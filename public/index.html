<!DOCTYPE html>
<html>
<head>
    <title>Safe Skinchecker</title>
    <style>
        body { background: #111; color: white; font-family: Arial; }
        .grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; }
        img { width: 100%; border-radius: 8px; }
    </style>
</head>
<body>

<h2>Upload locker.json</h2>
<input type="file" id="fileInput">

<h3>Skins</h3>
<div id="skins" class="grid"></div>

<h3>Backblings</h3>
<div id="backblings" class="grid"></div>

<h3>Pickaxes</h3>
<div id="pickaxes" class="grid"></div>

<h3>Emotes</h3>
<div id="emotes" class="grid"></div>

<script>
document.getElementById("fileInput").addEventListener("change", async (e) => {
    const file = e.target.files[0];
    const form = new FormData();
    form.append("locker", file);

    const res = await fetch("/upload", { method: "POST", body: form });
    const data = await res.json();

    display("skins", data.skins);
    display("backblings", data.backblings);
    display("pickaxes", data.pickaxes);
    display("emotes", data.emotes);
});

function display(id, arr) {
    const div = document.getElementById(id);
    div.innerHTML = "";
    arr.forEach(item => {
        div.innerHTML += `<img src="${item.icon}">`;
    });
}
</script>

</body>
</html>
